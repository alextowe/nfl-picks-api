{% extends 'base.html' %}

{% block title %} | Settings {% endblock%}

{% block content %}
<div id="settings" class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                {% if user.is_authenticated %}
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item mb-5 p-0 pb-5 border-bottom border-secondary">
                            <h2 class="mb-4">Update Email Address</h2>
                            <form method="post" class="col-md-3">
	    	    				{% csrf_token %}

				        		<div class="form-group mb-4">
						        	<input 
                                        type="email" 
                                        class="form-control 
                                        {% if form.email.errors %}
                                            is-invalid
                                        {% endif %}" 
                                        id="id_email" 
                                        name="email" 
                                        placeholder="New email address"
                                        value='{{ form.email.value|default:"" }}'>
							
                                    {% if form.email.errors %}
		        						<div class="invalid-feedback">{{ form.email.errors }}</div>
				        			{% endif %}
						        </div>
                                <button type="submit" class="btn btn-dark">Submit</button>
		        			</form> 
                        </li>
                        <li class="list-group-item mb-5 p-0 pb-5 border-bottom border-secondary">
                            <h2 class="mb-4">Change Password</h2>
                            <form method="post" class="col-md-2">
				        		{% csrf_token %}

        						<div class="form-group mb-4">
			        				<input 
                                        type="password" 
                                        class="form-control 
                                        {% if form.password1.errors %}
                                            is-invalid
                                        {% endif %}" 
                                        id="id_password1" 
                                        name="password1" 
                                        placeholder="Enter new password"
                                        value='{{ form.password1.value|default:"" }}'>
							
                                    {% if form.password1.errors %}
						        		<div class="invalid-feedback">{{ form.password1.errors }}</div>
        							{% endif %}
		        				</div>
                        
				        		<div class="form-group mb-4">
						        	<input 
                                        type="password" 
                                        class="form-control 
                                        {% if form.password2.errors %}
                                            is-invalid
                                        {% endif %}" 
                                        id="id_password2" 
                                        name="password2" 
                                        placeholder="Confirm new password"
                                        value='{{ form.password2.value|default:"" }}'>
						    	
                                    {% if form.password2.errors %}
        								<div class="invalid-feedback">{{ form.password2.errors }}</div>
		        					{% endif %}
				        		</div>
                                <button type="submit" class="btn btn-dark">Submit</button>
        					</form>
                        </li>
                        {{ user.id }} 
                        <li class="list-group-item mb-5 p-0 pb-5 border-bottom border-secondary">
                            <h2 class="mb-4">Delete Account</h2>
                            <form action="" method="post" class="col-md-3">
	    	    				{% csrf_token %}

				        	    <input type="hidden">	
                                <button type="submit" class="btn btn-dark">Delete</button>
                            </form>
                        </li>
                    </ul>
                {% else %}
                    <p>You are not logged in.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

